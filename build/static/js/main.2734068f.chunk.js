(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports=a.p+"static/media/icon256.8c689181.png"},128:function(e,t,a){e.exports=a(298)},133:function(e,t,a){},145:function(e,t,a){},149:function(e,t,a){},153:function(e,t,a){},295:function(e,t,a){},298:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(120),i=a.n(r),l=(a(133),a(6)),o=a(5),c=a(9),u=a(8),m=a(10),d=a(25),p=a(17),h=a(307),g=a(308),f=s.a.createContext(null),E=a(36),v=a.n(E),b=(a(136),a(138),a(141),{apiKey:"AIzaSyDni4UflIR1JzzSmNdyUfOUIWx9x0nzGM8",authDomain:"cat-243915.firebaseapp.com",databaseURL:"https://cat-243915.firebaseio.com",projectId:"youtube-cat-243915",storageBucket:"youtube-cat-243915.appspot.com",messagingSenderId:"719371077954",appId:"1:719371077954:web:12eebc6a33e42ddc"}),N=function e(){var t=this;Object(l.a)(this,e),this.onAuthUserListener=function(e,a){return t.auth.onAuthStateChanged(function(n){n?t.user(n.uid).get().then(function(t){var a=t.data();a.roles||(a.roles={}),n=Object(p.a)({uid:n.uid,email:n.email,username:a.username,emailVerified:n.emailVerified,providerData:n.providerData},a),e(n)}):a()})},this.doCreateUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.doSignInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.doSignInWithGoogle=function(){return t.auth.signInWithPopup(t.googleProvider)},this.doSignOut=function(){return t.auth.signOut()},this.doPasswordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.doPasswordUpdate=function(e){return t.auth.currentUser.updatePassword(e)},this.doSendEmailVerification=function(){return t.auth.currentUser.sendEmailVerification()},this.user=function(e){return t.db.doc("users/".concat(e))},this.users=function(){return t.db.collection("users")},v.a.initializeApp(b),this.fieldValue=v.a.firestore.FieldValue,this.auth=v.a.auth(),this.db=v.a.firestore(),this.googleProvider=new v.a.auth.GoogleAuthProvider},y=a(12),S=a.n(y),k=(a(145),{username:"",email:"",password:"",retypePassword:"",error:null}),C=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state=Object(p.a)({},k),a.handleOnChange=function(e){a.setState(a.setState(Object(d.a)({},e.target.name,e.target.value)))},a.onSubmit=function(e,t){console.log(e);var n=a.state,s=n.email,r=n.password,i=n.username;e.firebase.doCreateUserWithEmailAndPassword(s,r).then(function(t){return e.firebase.user(t.user.uid).set({username:i,email:s},{merge:!0})}).then(function(){return e.firebase.doSendEmailVerification()}).then(function(e){a.setState(Object(p.a)({},k)),a.setState({error:{message:"An email verification has been sent to you!"}})}).catch(function(e){a.setState({error:e})}),t.preventDefault()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.email,r=t.password,i=t.retypePassword,l=t.error,o=""===r||r!==i||""===a;return s.a.createElement(f.Consumer,null,function(t){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"logoContainer"},s.a.createElement("img",{src:S.a,className:"logoIcon"}),s.a.createElement("h1",{className:"logoText"},"YouTube ",s.a.createElement("span",{className:"logoText__cat"},"Cat"))),s.a.createElement(h.a,{placeholder:"Username",name:"username",onChange:e.handleOnChange,value:a,className:"input-text text"}),s.a.createElement(h.a,{placeholder:"Email",name:"email",onChange:e.handleOnChange,value:n,className:"input-text text"}),s.a.createElement(h.a,{placeholder:"Password",name:"password",type:"password",onChange:e.handleOnChange,value:r,className:"input-text text"}),s.a.createElement(h.a,{placeholder:"Retype Password",name:"retypePassword",type:"password",onChange:e.handleOnChange,value:i,className:"input-text text"}),s.a.createElement("div",{className:"button-wrapper"},s.a.createElement(g.a,{className:"input-btn",disabled:o,color:"primary",type:"submit",onClick:function(a){return e.onSubmit({firebase:t},a)}},"SIGN UP")," "),s.a.createElement("br",null),l&&s.a.createElement("p",{className:"error text"},l.message)&&"An email verification has been sent to you!"===l.message&&s.a.createElement("p",{className:"verify text"},"A verification email has been sent to you. ",s.a.createElement("br",null),"Please verify your email before"," ",s.a.createElement("span",{className:"linking text",onClick:function(){return e.props.changePage("LogIn")}},"signing in"))||l&&l.message,(l&&"An email verification has been sent to you!"!==l.message||!l)&&s.a.createElement("div",{className:"bottom-text text"},s.a.createElement("p",{className:"question text"},"Already have an account? ",s.a.createElement("br",null),s.a.createElement("span",{className:"linking text",onClick:function(){return e.props.changePage("LogIn")}},"Sign in!"))))})}}]),t}(n.Component),U=(a(56),{email:"",password:"",error:null}),w=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state=Object(p.a)({},U),a.handleOnChange=function(e){a.setState(a.setState(Object(d.a)({},e.target.name,e.target.value)))},a.onSubmit=function(e,t){console.log(e);var n=a.state,s=n.email,r=n.password;e.firebase.doSignInWithEmailAndPassword(s,r).then(function(t){console.log("logged in"),a.setState(Object(p.a)({},U)),e.firebase.auth.onAuthStateChanged(function(e){console.log("going to welcome"),null!==e&&e.emailVerified?(a.props.changeAuth(e),a.props.changePage("Welcome")):null===e||e.emailVerified||a.setState({error:{message:"Please authenticate your email first!"}})}).catch(function(e){console.log("inner errors: ",e)})}).catch(function(e){a.setState({error:e}),console.log("errors: ",a.state.error)}),t.preventDefault()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.password,r=t.error,i=""===n||""===a;return s.a.createElement(f.Consumer,null,function(t){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"BigLogoContainer"},s.a.createElement("img",{className:"catIcon",src:S.a}),s.a.createElement("h1",{className:"ytpcat"},"YouTube ",s.a.createElement("span",{className:"cat"},"Cat"))),s.a.createElement("div",{className:"input-wrapper"},s.a.createElement(h.a,{className:"input-text text",placeholder:"Email",name:"email",onChange:e.handleOnChange,value:a}),s.a.createElement(h.a,{className:"input-text text",placeholder:"Password",name:"password",type:"password",onChange:e.handleOnChange,value:n})),s.a.createElement("div",{className:"button-wrapper"},s.a.createElement(g.a,{className:"input-btn text",disabled:i,type:"submit",onClick:function(a){return e.onSubmit({firebase:t},a)}},"SIGN IN")),r&&s.a.createElement("p",{className:"error text"},r.message),s.a.createElement("div",{className:"bottom-text text"},s.a.createElement("p",{className:"question text"},"New to YouTube Cat?",s.a.createElement("span",{className:"linking text",onClick:function(){return e.props.changePage("SignUp")}}," Sign Up!")),s.a.createElement("p",{className:"question text"},"Forgot password?",s.a.createElement("span",{className:"linking text",onClick:function(){return e.props.changePage("ForgotPassword")}}," Reset"))))})}}]),t}(n.Component),P=a(73),x=a.n(P),q=a(122),O=a(35),_=a.n(O),A=(a(149),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={selectAllChecked:!0,blockedCategories:null,userId:null,isLoading:!0,message:""},a.handleSavePreferences=function(e){for(var t=document.getElementsByClassName("enableKey"),n=[],s=[],r=0;r<t.length;r++)t[r].checked&&(n.push(t[r].value),s.push(t[r].name));void 0===a.props.user.id&&chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.tabs.sendMessage(e[0].id,{todo:"changePreferences",categories:s}),console.log("sending message about cats")}),void 0===a.props.user.id&&(console.log("setting local storage"),localStorage.setItem("blockedCategories",JSON.stringify(n))),e.user(a.state.userId).set({blockedCategories:n},{merge:!0}),a.setState({message:"Blocking has begun! Meow"}),console.log(n)},a.handleSelectAll=function(){if(a.setState({selectAllChecked:!a.state.selectAllChecked}),a.state.selectAllChecked)for(var e=document.getElementsByClassName("enableKey"),t=0;t<e.length;t++)e[t].checked=!0;else for(var n=document.getElementsByClassName("enableKey"),s=0;s<n.length;s++)n[s].checked=!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(q.a)(x.a.mark(function e(){var t,a=this;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0===this.props.user.id?this.props.user.uid:this.props.user.id,console.log("user for blocking: ",t),console.log("user",this.props.user),this.props.buttonSetting(void 0===this.props.user.id?"myself":"friend"),this.setState({userId:t}),e.next=7,this.props.firebase.user(t).onSnapshot(function(e){a.setState({blockedCategories:e.data()},function(){var e=a.state.blockedCategories;if(null!==e&&void 0!==e&&void 0!==e.blockedCategories){var t=document.getElementsByClassName("enableKey"),n=e.blockedCategories;console.log("blocked cats: ",e.blockedCategories);for(var s=0;s<n.length;s++)console.log("element:",n[s]),console.log("element nesting: ",t),t[n[s]].checked=!0}a.setState({isLoading:!1})})});case 7:e.sent;case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.isLoading?s.a.createElement("div",{className:"block_cat_spinner"},s.a.createElement(_.a,{animation:"border",size:"lg",variant:"danger",role:"status"})):s.a.createElement("div",null),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"logoContainer"},s.a.createElement("img",{src:S.a,className:"logoIcon"}),s.a.createElement("h1",{className:"logoText"},"Meow,"," ",s.a.createElement("span",{className:"logoText__cat"},this.props.username,"!"))),s.a.createElement("div",{className:"bc__toptext"},"Blocking for"," ",s.a.createElement("span",{className:"bc__toptext--red"},void 0===this.props.user.id?"myself":this.props.user.username,":")),s.a.createElement("br",null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"checkbox-group"},s.a.createElement("ul",{className:"bc__blockedcategories"},s.a.createElement("li",null,s.a.createElement("input",{type:"checkbox",value:"-1",id:"selectAll",className:"selectAll",onClick:this.handleSelectAll}),"Select all"),s.a.createElement("br",null),s.a.createElement("div",{className:"scroll"},s.a.createElement("li",{className:"list_item"},s.a.createElement("input",{type:"checkbox",value:"0",name:"Auto & Vehicles",className:"enableKey"}),"Auto & Vehicles"),s.a.createElement("li",{className:"list_item"},s.a.createElement("input",{type:"checkbox",value:"1",name:"Beauty & Fashion",className:"enableKey"}),"Beauty & Fashion"),s.a.createElement("li",{className:"list_item"},s.a.createElement("input",{type:"checkbox",value:"2",name:"Comedy",className:"enableKey"}),"Comedy"),s.a.createElement("li",{className:"list_item"},s.a.createElement("input",{type:"checkbox",value:"3",name:"Education",className:"enableKey"}),"Education"),s.a.createElement("li",{className:"list_item"},s.a.createElement("input",{type:"checkbox",value:"4",name:"Entertainment",className:"enableKey"}),"Entertainment"),s.a.createElement("li",{className:"list_item"},s.a.createElement("input",{type:"checkbox",value:"5",name:"Family Entertainment",className:"enableKey"}),"Family Entertainment"),s.a.createElement("li",{className:"list_item"},s.a.createElement("input",{type:"checkbox",value:"6",name:"Film & Animation",className:"enableKey"}),"Film & Animation"),s.a.createElement("li",{className:"list_item"},s.a.createElement("input",{type:"checkbox",value:"7",name:"Food",className:"enableKey"}),"Food"),s.a.createElement("li",{className:"list_item"},s.a.createElement("input",{type:"checkbox",value:"8",name:"Gaming",className:"enableKey"}),"Gaming"),s.a.createElement("li",{className:"list_item"},s.a.createElement("input",{type:"checkbox",value:"9",name:"Howto & Style",className:"enableKey"}),"Howto & Style"),s.a.createElement("li",{className:"list_item"},s.a.createElement("input",{type:"checkbox",value:"10",name:"Music",className:"enableKey"}),"Music"),s.a.createElement("li",{className:"list_item"},s.a.createElement("input",{type:"checkbox",value:"11",name:"News & Politics",className:"enableKey"}),"News & Politics"),s.a.createElement("li",{className:"list_item"},s.a.createElement("input",{type:"checkbox",value:"12",name:"Nonprofits & Activism",className:"enableKey"}),"Nonprofits & Activism"),s.a.createElement("li",{className:"list_item"},s.a.createElement("input",{type:"checkbox",value:"13",name:"People & Blogs",className:"enableKey"}),"People & Blogs"),s.a.createElement("li",{className:"list_item"},s.a.createElement("input",{type:"checkbox",value:"14",name:"Pets & Animals",className:"enableKey"}),"Pets & Animals"),s.a.createElement("li",{className:"list_item"},s.a.createElement("input",{type:"checkbox",value:"15",name:"Science & Technology",className:"enableKey"}),"Science & Technology"),s.a.createElement("li",{className:"list_item"},s.a.createElement("input",{type:"checkbox",value:"16",name:"Sports",className:"enableKey"}),"Sports"),s.a.createElement("li",{className:"list_item"},s.a.createElement("input",{type:"checkbox",value:"17",name:"Travel & Events",className:"enableKey"}),"Travel & Events"))),s.a.createElement("div",{className:"blockingMessage"},this.state.message),s.a.createElement("div",{className:"buttonwrapper"},s.a.createElement(g.a,{type:"block",color:"primary",id:"savePreferences",className:"input-btn-block",onClick:function(){return e.handleSavePreferences(e.props.firebase)}},"BEGIN BLOCK!")," ",s.a.createElement("br",null),s.a.createElement("br",null))))))}}]),t}(n.Component)),j={email:"",error:null},I=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state=Object(p.a)({},j,{resetEmailSent:!1}),a.handleOnChange=function(e){a.setState(a.setState(Object(d.a)({},e.target.name,e.target.value)))},a.onSubmit=function(e,t){console.log(e);var n=a.state.email;e.firebase.doPasswordReset(n).then(function(e){console.log("reset email sent"),a.setState(Object(p.a)({},j,{resetEmailSent:!0}))}).catch(function(e){a.setState({error:e})}),t.preventDefault()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.resetEmailSent,r=t.error,i=""===a;return s.a.createElement(f.Consumer,null,function(t){return s.a.createElement("div",{className:"container"},s.a.createElement("img",{className:"catIcon",src:S.a}),s.a.createElement("h1",{className:"ytpcat"},"YouTube ",s.a.createElement("span",{className:"cat"},"Cat")),s.a.createElement("div",{className:"inputWrapper"},s.a.createElement(h.a,{placeholder:"Email",className:"input-text text",name:"email",onChange:e.handleOnChange,value:a})),s.a.createElement("div",{className:"button-wrapper"},s.a.createElement(g.a,{className:"input-btn text",disabled:i,type:"submit",onClick:function(a){return e.onSubmit({firebase:t},a)}},"RESET PASSWORD")),r&&s.a.createElement("p",{className:"error text"},r.message),n&&s.a.createElement("div",null,s.a.createElement("p",{className:"verify text"},"An email has been sent to reset your password")),s.a.createElement("div",{className:"bottom-text text"},s.a.createElement("p",{className:"question text"},"Remembered your password?",s.a.createElement("span",{className:"linking text",onClick:function(){return e.props.changePage("LogIn")}}," Sign In!"))))})}}]),t}(n.Component),R=(a(153),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={purpose:"",username:"",isLoading:!0,savedPurpose:null},a.handleSignOut=function(e){e.doSignOut().then(function(t){console.log("signout"),e.auth.onAuthStateChanged(function(e){a.props.changePage("LogIn"),a.props.changeAuth("null")})})},a.handlePurpose=function(e){console.log(e.target.value),a.setState({purpose:e.target.value})},a.handlePurposeSubmission=function(e){chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.tabs.sendMessage(e[0].id,{purpose:this.state.purpose,todo:"receivePurpose"})}),e.user(a.props.authUser.uid).set({purpose:a.state.purpose},{merge:!0}),a.setState({savedPurpose:a.state.purpose,purpose:""})},a.fetchUserDetails=function(e){""===a.state.username&&null!==a.props.authUser&&e.user(a.props.authUser.uid).onSnapshot(function(e){a.setState({username:e.data().username,isLoading:!1,savedPurpose:e.data().purpose}),a.props.setUsername(e.data().username)})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){console.log("authuser: ",this.props.authUser),this.props.blockedCategoriesUser(this.props.authUser)}},{key:"render",value:function(){var e=this;return s.a.createElement(f.Consumer,null,function(t){return e.fetchUserDetails(t),e.state.isLoading?s.a.createElement("div",{className:"spinner-wrapper"},s.a.createElement(_.a,{size:"xl",animation:"border",variant:"danger",role:"status",style:{width:"4rem",height:"4rem"}})):null!==e.props.authUser&&e.props.authUser.emailVerified?s.a.createElement("div",null,s.a.createElement("p",{className:"toptext"},s.a.createElement("div",{className:"logoContainer"},s.a.createElement("img",{src:S.a,className:"logoIcon"}),s.a.createElement("h1",{className:"logoText"},"Meow,"," ",s.a.createElement("span",{className:"logoText__cat"},e.state.username,"!"))),s.a.createElement("span",{className:"block_vids_for"},"Block vids for?")),s.a.createElement("br",null),s.a.createElement(g.a,{className:"myself_btn",color:"primary",onClick:function(){return e.props.changePage("BlockedCategories")},type:"myself"},s.a.createElement("span",{className:"btnText"},"ME")),s.a.createElement(g.a,{className:"friends_btn",color:"primary",onClick:function(){return e.props.changePage("Friends")},type:"friends"},s.a.createElement("span",{className:"btnText"},"FRIENDS")),s.a.createElement("br",null),s.a.createElement("div",{className:"purpose"},s.a.createElement("span",{className:"purposeQuestion"},"What is your purpose today?"),s.a.createElement(h.a,{type:"purpose",placeholder:void 0===e.state.savedPurpose||null===e.state.savedPurpose||""===e.state.savedPurpose?"Purpose":e.state.savedPurpose,onChange:function(t){return e.handlePurpose(t)}})),s.a.createElement("br",null),s.a.createElement("div",{className:"button-wrapper"},s.a.createElement(g.a,{className:"submitPurpose",onClick:function(){return e.handlePurposeSubmission(t)}},s.a.createElement("span",{className:"btnText"}," Submit ")),s.a.createElement("br",null),s.a.createElement(g.a,{className:"friends_btn",onClick:function(){return e.handleSignOut(t)}},s.a.createElement("span",{className:"btnText"}," SIGN OUT ")))):s.a.createElement("div",null,s.a.createElement("p",null,"Please check your email and verify it meow!"),s.a.createElement(g.a,{className:"signout",onClick:function(){return e.handleSignOut(t)}},"Sign Out"))})}}]),t}(n.Component)),L=a(32),F=a(309),B=a(310),T=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",friendsList:[],friendEmail:"",message:"",isLoading:!0,friendId:"",friendPendingRequests:[],requestsSent:[],requestsReceived:[]},a.handleAddFriend=function(e){if(a.state.friendEmail===a.props.authUser.email)a.setState({message:"There is no denying that you are a friend of yourself! Broaden your horizons!",friendEmail:""});else{var t=a.state.friendsList.filter(function(e){return e.email===a.state.friendEmail}),n=a.state.requestsReceived.filter(function(e){return e.email===a.state.friendEmail});console.log(a.state.requestsSent);var s=a.state.requestsSent.filter(function(e){return e.email===a.state.friendEmail});t.length>0?a.setState({message:"This user is already your friend! Do you doubt your friendship meow?",friendEmail:""}):n.length>0?a.setState({message:"The user has already sent you a request! Go ahead and accept it!",friendEmail:""}):s.length>0?a.setState({message:"Don't be so desperate meow. Give the user some time to accept your request!",friendEmail:""}):e.db.collection("users").where("email","==",a.state.friendEmail).get().then(function(t){t.docs.length<1?a.setState({message:"CATastrophe! This user does not exist. Please check the email and try again.",friendEmail:""}):t.forEach(function(t){0===a.state.requestsSent.filter(function(e){return e.uid===t.id}).length?(console.log("if 1: ",a.props.myself),a.setState({requestsSent:[].concat(Object(L.a)(a.state.requestsSent),[{email:a.state.friendEmail,username:t.data().username,id:t.id}]),friendId:t.id},function(){console.log("friend id: ",a.state.friendId),e.user(a.props.authUser.uid).set({requests_sent:a.state.requestsSent},{merge:!0}),console.log("before request sent message: ",a.props.myself),a.setState({message:"Request sent."},function(){console.log("after the message: ",a.props.myself),e.user(a.state.friendId).get().then(function(t){console.log("query: ",t.data().requests_received);var n=void 0===t.data().requests_received?[]:t.data().requests_received;console.log("data: ",n),console.log("before changing pending requests: ",a.props.myself),a.setState({friendsPendingRequests:n},function(){console.log("existing invitations: ",a.state.friendPendingRequests),e.user(a.state.friendId).set({requests_received:[].concat(Object(L.a)(n),[{id:a.props.authUser.uid,email:a.props.authUser.email,username:a.state.username}])},{merge:!0})})})})})):a.setState({message:"Request is already sent. Please be patient and stay pawsitive."}),a.setState({friendEmail:""})})})}},a.handleFriendEmail=function(e){a.setState({friendEmail:e.target.value})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.authUser),this.props.firebase.user(this.props.authUser.uid).onSnapshot(function(t){e.setState({username:t.data().username,friendsList:void 0===t.data().friends?[]:t.data().friends,isLoading:!1,requestsSent:void 0===t.data().requests_sent?[]:t.data().requests_sent,requestsReceived:void 0===t.data().requests_received?[]:t.data().requests_received},function(){return console.log("friends: ",0===e.state.friendsList.length)})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"logoContainer"},s.a.createElement("img",{src:S.a,className:"logoIcon"}),s.a.createElement("h1",{className:"logoText"},"Meow, ",s.a.createElement("span",{className:"logoText__cat"},this.state.username,"!"))),s.a.createElement("h4",{className:"oswald"},"Add a friend!"),s.a.createElement(F.a,null,s.a.createElement(B.a,null,s.a.createElement(h.a,{className:"input-text",placeholder:"Email",type:"email",onChange:function(t){return e.handleFriendEmail(t)},value:this.state.friendEmail}),s.a.createElement("div",{className:"button-wrapper"},s.a.createElement(g.a,{className:"input-btn",onClick:function(){return e.handleAddFriend(e.props.firebase)}},"ADD")),s.a.createElement("div",null,s.a.createElement("p",{className:"error"},this.state.message)))))}}]),t}(n.Component),D=a(123),K=(a(79),a(42)),W=a.n(K),M=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",friendsList:[],friendEmail:"",message:"",isLoading:!0,friendId:"",friendPendingRequests:[],requestsSent:[],requestsReceived:[]},a.handleRemoveFriend=function(e,t){a.setState({friendsList:a.state.friendsList.filter(function(t){return t.id!==e.id})},function(){t.user(a.props.authUser.uid).set({friends:a.state.friendsList},{merge:!0})}),t.user(e.id).get().then(function(n){var s=n.data().friends;void 0!==s&&t.user(e.id).set({friends:s.filter(function(e){return e.id!==a.props.authUser.uid})},{merge:!0})})},a.renderFriendsList=function(e){return a.state.isLoading?s.a.createElement("div",{className:"spinner-wrapper"},s.a.createElement(_.a,{animation:"border",variant:"danger",role:"status"})):void 0!==a.state.friendsList?a.state.friendsList.map(function(t){return s.a.createElement("div",{style:{display:"flex"}},s.a.createElement("h6",{className:"friend oswald",style:{flex:1},onClick:function(){return a.props.handleHelpFriend(t)}},t.username),s.a.createElement(W.a,{className:"icon cancel",color:"danger",onClick:function(){return a.handleRemoveFriend(t,e)}}))}):s.a.createElement("div",null)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.authUser),this.props.firebase.user(this.props.authUser.uid).onSnapshot(function(t){e.setState({username:t.data().username,friendsList:void 0===t.data().friends?[]:t.data().friends,isLoading:!1,requestsSent:void 0===t.data().requests_sent?[]:t.data().requests_sent,requestsReceived:void 0===t.data().requests_received?[]:t.data().requests_received},function(){return console.log("friends: ",0===e.state.friendsList.length)})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"logoContainer"},s.a.createElement("img",{src:S.a,className:"logoIcon"}),s.a.createElement("h1",{className:"logoText"},"Meow, ",s.a.createElement("span",{className:"logoText__cat"},this.state.username,"!"))),s.a.createElement("h3",{className:"title oswald"},"FRIENDS"),void 0!==this.state.friendsList&&null!==this.state.friendsList&&this.state.friendsList.length>0?"Choose a friend and block their vids!":"Add friends! I'm sure you have some!",s.a.createElement("div",{className:"friends-list"},this.renderFriendsList(this.props.firebase)),s.a.createElement(g.a,{className:"input-btn",onClick:function(){return e.props.changePage("AddFriend")}},"ADD FRIENDS"),s.a.createElement(g.a,{className:"input-btn",onClick:function(){return e.props.changePage("FriendRequests")}},"INVITES"))}}]),t}(n.Component),V=(a(159),a(125)),G=a.n(V),z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",friendsList:[],friendEmail:"",message:"",isLoading:!0,friendId:"",friendPendingRequests:[],requestsSent:[],requestsReceived:[],myself:a.props.myself},a.acceptReceivedRequest=function(e,t){var n=[].concat(Object(L.a)(a.state.friendsList),[e]);a.setState({friendsList:n},function(){console.log("friends list: ",a.state.friendsList),t.user(a.props.authUser.uid).set({friends:n},{merge:!0}),a.setState({requestsReceived:a.state.requestsReceived.filter(function(t){return t.id!==e.id})},function(){t.user(a.props.authUser.uid).set({requests_received:a.state.requestsReceived},{merge:!0}),t.user(e.id).get().then(function(n){var s=n.data().requests_sent;if(console.log("friends: ",t.user(e.id)),void 0!==s){var r=void 0===n.data().friends||0===n.data().friends.length?[{email:a.props.authUser.email,username:a.state.username,id:a.props.authUser.uid}]:[Object(p.a)({},n.data().friends),{email:a.props.authUser.email,username:a.state.username,id:a.props.authUser.uid}];t.user(e.id).set({requests_sent:s.filter(function(e){return e.id!==a.props.authUser.uid}),friends:r},{merge:!0})}})})})},a.rejectReceivedRequest=function(e,t){a.setState({requestsReceived:a.state.requestsReceived.filter(function(t){return t.id!==e.id})},function(){t.user(a.props.authUser.uid).set({requests_received:a.state.requestsReceived},{merge:!0})}),t.user(e.id).get().then(function(n){var s=n.data().requests_sent;void 0!==s&&t.user(e.id).set({requests_sent:s.filter(function(e){return e.id!==a.props.authUser.uid})},{merge:!0})})},a.renderRequestsReceived=function(e){return a.state.requestsReceived.map(function(t){return s.a.createElement("div",null,s.a.createElement("h6",null,t.username,s.a.createElement("span",null,s.a.createElement(W.a,{className:"icon cancel",color:"danger",onClick:function(){return a.rejectReceivedRequest(t,e)}}),s.a.createElement(G.a,{className:"icon accept",color:"success",onClick:function(){return a.acceptReceivedRequest(t,e)}}))))})},a.cancelSentRequest=function(e,t){a.setState({requestsSent:a.state.requestsSent.filter(function(t){return t.id!==e.id})},function(){t.user(a.props.authUser.uid).set({requests_sent:a.state.requestsSent},{merge:!0})}),t.user(e.id).get().then(function(n){var s=n.data().requests_received;void 0!==s&&t.user(e.id).set({requests_received:s.filter(function(e){return e.id!==a.props.authUser.uid})},{merge:!0})})},a.renderRequestsSent=function(e){return a.state.requestsSent.map(function(t){return s.a.createElement("div",null,s.a.createElement("h6",null,t.username,s.a.createElement("span",{className:"inline-button"},s.a.createElement(W.a,{className:"icon cancel",color:"danger",onClick:function(){return a.cancelSentRequest(t,e)}}))))})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.authUser),this.props.firebase.user(this.props.authUser.uid).onSnapshot(function(t){e.setState({username:t.data().username,friendsList:void 0===t.data().friends?[]:t.data().friends,isLoading:!1,requestsSent:void 0===t.data().requests_sent?[]:t.data().requests_sent,requestsReceived:void 0===t.data().requests_received?[]:t.data().requests_received},function(){return console.log("friends: ",0===e.state.friendsList.length)})})}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"logoContainer"},s.a.createElement("img",{src:S.a,className:"logoIcon"}),s.a.createElement("h1",{className:"logoText"},"Meow, ",s.a.createElement("span",{className:"logoText__cat"},this.state.myself,"!"))),s.a.createElement("h4",{className:"title oswald"},"FRIEND INVITATIONS"),s.a.createElement("div",{className:"friends-list"},this.state.requestsReceived.length<1?"No pending invitations.":this.renderRequestsReceived(this.props.firebase)),s.a.createElement("h4",{className:"title oswald"},"OUTGOING REQUESTS"),s.a.createElement("div",{className:"friends-list"},this.state.requestsSent.length<1?"No invitations sent.":this.renderRequestsSent(this.props.firebase)))}}]),t}(n.Component),H=(a(295),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={page:"",authUser:"null"!==localStorage.getItem("authUser")?JSON.parse(localStorage.getItem("authUser")):"null"!==localStorage.getItem("authUser"),blockedCategoriesUser:null,backFor:"myself",username:""},a.handleUsername=function(e){a.setState({username:e})},a.handlePages=function(e){console.log("page title: ",e),a.setState({page:e})},a.handleAuthUser=function(e){a.setState({authUser:e}),"null"!==e?localStorage.setItem("authUser",JSON.stringify(e)):localStorage.setItem("authUser",e)},a.handleBackButtonSettings=function(e){a.setState({backFor:e})},a.handleBack=function(){"SignUp"===a.state.page||"ForgotPassword"===a.state.page?a.handlePages("LogIn"):"BlockedCategories"===a.state.page&&"myself"===a.state.backFor||"Friends"===a.state.page?a.handlePages("Welcome"):("BlockedCategories"===a.state.page&&"friend"===a.state.backFor||"AddFriend"===a.state.page||"FriendRequests"===a.state.page)&&a.handlePages("Friends")},a.handleBlockedCategoriesUser=function(e){a.setState({blockedCategoriesUser:e})},a.handleHelpFriend=function(e){a.setState({blockedCategoriesUser:e},function(){return a.handlePages("BlockedCategories")})},a.renderBack=function(){return console.log(a.state.page),"LogIn"===a.state.page||""===a.state.page||"Welcome"===a.state.page?s.a.createElement("div",null):s.a.createElement(D.a,{className:"backButton",icon:["fas","arrow-left"],size:"lg"})},a.renderComponent=function(){switch(a.state.page){case"LogIn":return s.a.createElement(w,{changePage:a.handlePages,changeAuth:a.handleAuthUser,page:a.state.page});case"SignUp":return s.a.createElement(C,{changePage:a.handlePages});case"ForgotPassword":return s.a.createElement(I,{changePage:a.handlePages});case"Welcome":return s.a.createElement(R,{changePage:a.handlePages,changeAuth:a.handleAuthUser,authUser:a.state.authUser,blockedCategoriesUser:a.handleBlockedCategoriesUser,setUsername:a.handleUsername});case"BlockedCategories":return s.a.createElement(f.Consumer,null,function(e){return s.a.createElement(A,{changePage:a.handlePages,user:a.state.blockedCategoriesUser,firebase:e,buttonSetting:a.handleBackButtonSettings,username:a.state.username})});case"Friends":return s.a.createElement(f.Consumer,null,function(e){return s.a.createElement(M,{changePage:a.handlePages,authUser:a.state.authUser,firebase:e,blockedCategoriesUser:a.handleBlockedCategoriesUser,handleHelpFriend:a.handleHelpFriend,myself:a.state.username})});case"AddFriend":return s.a.createElement(f.Consumer,null,function(e){return s.a.createElement(T,{changePage:a.handlePages,authUser:a.state.authUser,firebase:e,blockedCategoriesUser:a.handleBlockedCategoriesUser,myself:a.state.username})});case"FriendRequests":return s.a.createElement(f.Consumer,null,function(e){return s.a.createElement(z,{changePage:a.handlePages,authUser:a.state.authUser,firebase:e,blockedCategoriesUser:a.handleBlockedCategoriesUser,myself:a.state.username})});default:return"null"!==a.state.authUser&&null!==a.state.authUser&&!1!==a.state.authUser?s.a.createElement(R,{changePage:a.handlePages,changeAuth:a.handleAuthUser,authUser:a.state.authUser,blockedCategoriesUser:a.handleBlockedCategoriesUser,setUsername:a.handleUsername}):s.a.createElement(w,{changePage:a.handlePages,changeAuth:a.handleAuthUser,page:a.state.page})}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"container flexing"},s.a.createElement("div",{className:"flex1",onClick:this.handleBack},this.renderBack()),s.a.createElement("div",{className:"flex2"},this.renderComponent()))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(296);var J=a(41),Y=a(126);J.b.add(Y.a),i.a.render(s.a.createElement(f.Provider,{value:new N},s.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},56:function(e,t,a){},79:function(e,t,a){}},[[128,1,2]]]);
//# sourceMappingURL=main.2734068f.chunk.js.map